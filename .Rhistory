#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plotten ################################################################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = "white"),
text  = element_text(size = 10, color = "black"),
axis.line.y = element_line(),
axis.line.x = element_blank(),
axis.ticks.x = element_blank(),
legend.key = element_rect(fill = "white"),
legend.position = "right",
legend.margin = margin(0, 0, 0, 0, "cm"),
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
ggplot(sites, aes(treatment, cwmAbuLdmc)) +
geom_boxplot(colour = "black") +
geom_quasirandom(color = "black", dodge.width = .6, size = .8) +
scale_y_continuous(limits = c(230, 325), breaks = seq(0, 400, 20)) +
labs(x = "", y = expression(CWM~LDMC~"["*mg~g^-1*"]"), size = 3) +
themeMB()
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
ggsave("figure_6_cwm_ldmc_(800dpi_4x4cm).tiff",
dpi = 800, width = 4, height = 4, units = "cm")
# Show Figure CWM LDMC ####
# Markus Bauer
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# A Preparation ################################################################################################################
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
### Packages ###
library(tidyverse)
library(ggbeeswarm)
### Start ###
rm(list = ls())
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/data/processed")
### Load data ###
sites <- read_csv2("data_processed_sites.csv", col_names = T, col_types =
cols(
.default = col_double(),
id = col_factor(),
treatment = col_factor()
)) %>%
select(id, treatment, cwmAbuLdmc) %>%
mutate(treatment = fct_relevel(treatment, c("no_dam", "behind_dam"))) %>%
mutate(treatment = fct_recode(treatment, "Active" = "no_dam", "Inactive" = "behind_dam"))
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plotten ################################################################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = "white"),
text  = element_text(size = 10, color = "black"),
axis.line.y = element_line(),
axis.line.x = element_blank(),
axis.ticks.x = element_blank(),
legend.key = element_rect(fill = "white"),
legend.position = "right",
legend.margin = margin(0, 0, 0, 0, "cm"),
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
ggplot(sites, aes(treatment, cwmAbuLdmc)) +
geom_boxplot(colour = "black") +
geom_quasirandom(color = "black", dodge.width = .6, size = .8) +
scale_y_continuous(limits = c(230, 325), breaks = seq(0, 400, 20)) +
labs(x = "", y = expression(CWM~LDMC~"["*mg~g^-1*"]"), size = 3) +
themeMB()
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
ggsave("figure_6_cwm_ldmc_(800dpi_6x6cm).tiff",
dpi = 800, width = 6, height = 6, units = "cm")
# Show Figure CWM seed mass ####
# Markus Bauer
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# A Preparation ################################################################################################################
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
### Packages ###
library(tidyverse)
library(ggbeeswarm)
### Start ###
rm(list = ls())
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/data/processed")
### Load data ###
sites <- read_csv2("data_processed_sites.csv", col_names = T, col_types =
cols(
.default = col_double(),
id = col_factor(),
treatment = col_factor()
)) %>%
select(id, treatment, cwmAbuSeedmass) %>%
mutate(treatment = fct_relevel(treatment, c("no_dam", "behind_dam"))) %>%
mutate(treatment = fct_recode(treatment, "Active" = "no_dam", "Inactive" = "behind_dam"))
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plotten ################################################################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = "white"),
text  = element_text(size = 10, color = "black"),
axis.line.y = element_line(),
axis.line.x = element_blank(),
axis.ticks.x = element_blank(),
legend.key = element_rect(fill = "white"),
legend.position = "right",
legend.margin = margin(0, 0, 0, 0, "cm"),
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
ggplot(sites, aes(treatment, cwmAbuSeedmass)) +
geom_boxplot(colour = "black") +
geom_quasirandom(color = "black", dodge.width = .6, size = .8) +
scale_y_continuous(limits = c(1,3), breaks = seq(0, 100, .5)) +
labs(x = "", y = "CWM seed mass [mg]", size = 3) +
themeMB()
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
ggsave("figure_6_cwm_seedmass_(800dpi_6x6cm).tiff",
dpi = 800, width = 6, height = 6, units = "cm")
# Show Figure functional dispersion (all traits singularily) ####
# Markus Bauer
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# A Preparation ################################################################################################################
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
### Packages ###
library(tidyverse)
library(ggbeeswarm)
### Start ###
rm(list = ls())
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/data/processed")
### Load data ###
sites <- read_csv2("data_processed_sites.csv", col_names = T, col_types =
cols(
.default = col_double(),
id = col_factor(),
treatment = col_factor()
)) %>%
select(id, treatment, fdisAbuLdmc, fdisAbuHeight, fdisAbuSeedmass) %>%
mutate(treatment = fct_relevel(treatment, c("no_dam", "behind_dam"))) %>%
mutate(treatment = fct_recode(treatment, "Active" = "no_dam", "Inactive" = "behind_dam")) %>%
pivot_longer(c(fdisAbuLdmc, fdisAbuHeight, fdisAbuSeedmass), names_to = "type", values_to = "value") %>%
mutate(type = as_factor(type)) %>%
mutate(type = fct_relevel(type, c("fdisAbuLdmc", "fdisAbuHeight", "fdisAbuSeedmass")))
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plotten ################################################################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = "white"),
text  = element_text(size = 10, color = "black"),
axis.line.y = element_line(),
axis.line.x = element_blank(),
axis.ticks.x = element_blank(),
legend.key = element_rect(fill = "white"),
legend.position = "right",
legend.margin = margin(0, 0, 0, 0, "cm"),
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
pd <- position_dodge(.6)
ggplot(sites, aes(x = treatment, y = value, fill = type))+
geom_boxplot(colour = "black") +
geom_quasirandom(color = "black", dodge.width = .8, size = .8) +
scale_y_continuous(limits = c(.1, .9), breaks = seq(0, 100, 0.2)) +
scale_fill_manual(breaks = c("fdisAbuLdmc","fdisAbuHeight","fdisAbuSeedmass"),
values = c("grey80","grey60","grey20"),
labels = c("LDMC", "Canopy height", "Seed mass")) +
labs(x = "", y = "FDis", fill = "") +
themeMB()
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
ggsave("figure_6_fdis_single_(800dpi_12x6cm).tiff",
dpi = 800, width = 12, height = 6, units = "cm")
# Show Figure CWM canopy height ####
# Markus Bauer
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# A Preparation ################################################################################################################
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
### Packages ###
library(tidyverse)
library(ggbeeswarm)
### Start ###
rm(list = ls())
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/data/processed")
### Load data ###
sites <- read_csv2("data_processed_sites.csv", col_names = T, col_types =
cols(
.default = col_double(),
id = col_factor(),
treatment = col_factor()
)) %>%
select(id, treatment, cwmAbuHeight) %>%
mutate(treatment = fct_relevel(treatment, c("no_dam", "behind_dam"))) %>%
mutate(treatment = fct_recode(treatment, "Active" = "no_dam", "Inactive" = "behind_dam"))
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plotten ################################################################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = "white"),
text  = element_text(size = 10, color = "black"),
axis.line.y = element_line(),
axis.line.x = element_blank(),
axis.ticks.x = element_blank(),
legend.key = element_rect(fill = "white"),
legend.position = "right",
legend.margin = margin(0, 0, 0, 0, "cm"),
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
ggplot(sites, aes(treatment, cwmAbuHeight)) +
geom_boxplot(colour = "black") +
geom_quasirandom(color = "black", dodge.width = .6, size = .8) +
scale_y_continuous(limits = c(0.3, 0.6), breaks = seq(0, 100, 0.1))+
labs(x = "", y = "CWM canopy heihgt [m]", size = 3)+
themeMB()
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
ggsave("figure_6_cwm_height_(800dpi_6x6cm).tiff",
dpi = 800, width = 6, height = 6, units = "cm")
# Show Figure FDis of all three traits ####
# Markus Bauer
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# A Preparation ################################################################################################################
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
### Packages ###
library(tidyverse)
library(ggbeeswarm)
### Start ###
rm(list = ls())
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/data/processed")
### Load data ###
sites <- read_csv2("data_processed_sites.csv", col_names = T, col_types =
cols(
.default = col_double(),
id = col_factor(),
treatment = col_factor()
)) %>%
select(id, treatment, fdisAbuLHS) %>%
mutate(treatment = fct_relevel(treatment, c("no_dam", "behind_dam"))) %>%
mutate(treatment = fct_recode(treatment, "Active" = "no_dam", "Inactive" = "behind_dam"))
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plotten ################################################################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = "white"),
text  = element_text(size = 10, color = "black"),
axis.line.y = element_line(),
axis.line.x = element_blank(),
axis.ticks.x = element_blank(),
legend.key = element_rect(fill = "white"),
legend.position = "right",
legend.margin = margin(0, 0, 0, 0, "cm"),
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
ggplot(sites, aes(treatment, fdisAbuLHS)) +
geom_boxplot(colour = "black") +
geom_quasirandom(color = "black", dodge.width = .6, size = .8) +
scale_y_continuous(limits = c(.6, 1.4), breaks = seq(0, 100, .2)) +
labs(x = "", y = "FDis", size = 3) +
themeMB()
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
ggsave("figure_6_fdis_all_(800dpi_6x6cm).tiff",
dpi = 800, width = 6, height = 6, units = "cm")
# Show map of the Schnalz floodplain ####
# Markus Bauer
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# A Preparation ################################################################################################################
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
### Packages ###
library(tidyverse)
library(sf)
library(ggmap)
library(ggrepel)
library(RColorBrewer)
library(patchwork)
### Start ###
rm(list = ls())
setwd("Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/data/processed/shp_files")
#remotes::install_github("poissonconsulting/poisspatial")
#ps_ggmap_to_raster(background_map)
### Load data ###
ger <- st_read("germany.shp")
sites <- st_read("sites.shp")
sites2 <- read_csv2("sites2.csv", col_names = T, col_types =
cols(
id = col_factor(),
Floodplain = col_factor()
)
)
load("background_toner.rda")
load("background_terrain.rda")
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# B Plot ##############################################################################
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
themeMB <- function(){
theme(
panel.background = element_rect(fill = NA),
panel.grid = element_line(colour = NA),
text  = element_text(size = 10, color = "black"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
legend.position = "none",
plot.margin = margin(.5, 0, 0, 0, "cm")
)
}
## 1 Preparation ##############################################################################
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
annotate("text", x = 10.95948, y = 47.77405, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### b Germany -----------------------------------------------------------------------
gerGraph <- ggplot() +
geom_sf(data = ger, fill = "transparent", colour = "black") +
geom_point(aes(x = 10.95948, y = 47.77405), size = 1, colour = "red") +
themeMB() +
theme(
plot.background = element_blank()
)
### c Inset -----------------------------------------------------------------------
sitesGraph + inset_element(gerGraph, .01, .65, .3, .99, on_top = T)
# 2 Save ##############################################################################
ggsave("figure_1_map_(300dpi_12x10cm).tiff",
dpi = 300, width = 12, height = 10, units = "cm",
path = "Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.77405), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.77405, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.77402), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.77405, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7740), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.77405, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7740), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.775, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7738), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.7745, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7738), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.7742, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7739), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.7742, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7739), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.774, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.7739), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.7735, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### a Map of project site -----------------------------------------------------------------------
(sitesGraph <- ggmap(background_terrain,
base_layer = ggplot(sites2, aes(x = lon, y = lat, shape = Floodplain))) +
geom_point(size = 2, color = "black") +
geom_point(aes(x = 10.9595, y = 47.77385), pch = 15, size = 2, color = "black") +
annotate("text", x = 10.9595, y = 47.7736, label = "Weir", size = 3) +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 10.9553, y = 47.7743, label = "Inactive floodplain", size = 3) +
annotate("text", x = 10.9652, y = 47.77475, label = "Active floodplain", size = 3) +
ggspatial::annotation_scale(location = "br", pad_y = unit(0.6, "cm"), pad_x = unit(0.7, "cm"),
width_hint = 0.4, height = unit(0.2, "cm")) +
ggspatial::annotation_north_arrow(location = "br", pad_y = unit(1.1, "cm"), pad_x = unit(0.6, "cm"),
which_north = "true", style = ggspatial::north_arrow_fancy_orienteering(), height = unit(1, "cm"), width = unit(1, "cm")) +
themeMB()
)
### b Germany -----------------------------------------------------------------------
gerGraph <- ggplot() +
geom_sf(data = ger, fill = "transparent", colour = "black") +
geom_point(aes(x = 10.95948, y = 47.77405), size = 1, colour = "red") +
themeMB() +
theme(
plot.background = element_blank()
)
### c Inset -----------------------------------------------------------------------
sitesGraph + inset_element(gerGraph, .01, .65, .3, .99, on_top = T)
ggsave("figure_1_map_(300dpi_12x10cm).tiff",
dpi = 300, width = 12, height = 10, units = "cm",
path = "Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
### b Germany -----------------------------------------------------------------------
gerGraph <- ggplot() +
geom_sf(data = ger, fill = "transparent", colour = "black") +
geom_point(aes(x = 10.95948, y = 47.77405), size = 1, colour = "white") +
themeMB() +
theme(
plot.background = element_blank()
)
### c Inset -----------------------------------------------------------------------
sitesGraph + inset_element(gerGraph, .01, .65, .3, .99, on_top = T)
ggsave("figure_1_map_(300dpi_12x10cm).tiff",
dpi = 300, width = 12, height = 10, units = "cm",
path = "Z:/Documents/0_Uni/2017_Projekt_8_Schnalzaue/3_Aufnahmen_und_Ergebnisse/2018_floodplain_Schnalz/outputs/figures")
